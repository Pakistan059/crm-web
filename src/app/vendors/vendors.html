<div class="min-h-full bg-gradient-to-br from-gray-100 to-gray-200 p-8 flex flex-col ">
  <!-- Stats Section -->
  <div class="flex justify-center gap-8">
    <mat-card class="w-64 shadow-lg rounded-2xl hover:shadow-xl transition">
      <mat-card-title class="text-lg font-medium text-center text-gray-600 p-2">
        Active Vendors
      </mat-card-title>
      <mat-card-content class="text-center text-4xl font-bold ">
        {{ activeVendors }}
      </mat-card-content>
    </mat-card>

    <mat-card class="w-64 shadow-lg rounded-2xl hover:shadow-xl transition">
      <mat-card-title class="text-lg font-medium text-center text-gray-600 p-2">
        Inactive Vendors
      </mat-card-title>
      <mat-card-content class="text-center text-4xl font-bold">
        {{ inactiveVendors }}
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Header Row with Search & Add -->
  <h1 class="text-2xl font-bold text-gray-800">Vendors</h1>
  <div class="flex justify-between items-center px-6 py-4 rounded-2xl">

    <div class="flex gap-4 items-center">
      <mat-form-field appearance="outline" class="w-[700px]">
        <mat-label>Search Vendors</mat-label>
        <input matInput placeholder="Enter vendor name..." [(ngModel)]="searchText" />
        <button *ngIf="searchText" matSuffix mat-icon-button (click)="searchText=''">
          <span class="material-icons">close</span>
        </button>
      </mat-form-field>

      <button mat-raised-button color="primary" class="rounded-xl shadow-md px-6" (click)="createVendor()">
        <span class="material-icons">add</span>
        Create New Vendor
      </button>
    </div>
  </div>

  <!-- Vendor Table -->
  <mat-card class="shadow-lg rounded-2xl overflow-hidden">
    <mat-card-content>
      <table mat-table [dataSource]="filteredVendors" class="mat-elevation-z2 w-full text-sm">

        <!-- ID -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> ID </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2"> {{ vendor.id }} </td>
        </ng-container>

        <!-- Name -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> Name </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2 font-semibold text-gray-800">
            {{ vendor.name }}
          </td>
        </ng-container>

        <!-- Business Type -->
        <ng-container matColumnDef="businessType">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> Business Type </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2 text-gray-600">
            {{ vendor.vendorBusinessType?.value }}
          </td>
        </ng-container>

        <!-- Address -->
        <ng-container matColumnDef="address">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> Address </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2 text-gray-600">
            {{ vendor.address?.street }}, {{ vendor.address?.city }}
          </td>
        </ng-container>

        <!-- Status -->
        <ng-container matColumnDef="isActive">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> Status </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2">
            <span
              class="px-3 py-1 rounded-full text-xs font-semibold"
              [ngClass]="vendor.isActive ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'"
            >
              {{ vendor.isActive ? 'Active' : 'Inactive' }}
            </span>
          </td>
        </ng-container>

        <!-- Account Managers -->
        <ng-container matColumnDef="accountManagers">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> Account Managers </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2">
            <div class="flex flex-wrap gap-2">
              <span
                *ngFor="let manager of vendor.accountManagers"
                class="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded-lg border border-blue-200"
              >
                {{ manager }}
              </span>
            </div>
          </td>
        </ng-container>

        <!-- Actions -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left"> Actions </th>
          <td mat-cell *matCellDef="let vendor" class="px-4 py-2 flex gap-2">
            <button mat-icon-button color="primary" (click)="editVendor(vendor)">
              <span class="material-icons">edit</span>
            </button>
            <button mat-icon-button color="warn" (click)="deleteVendor(vendor)">
              <span class="material-icons">delete</span>
            </button>
          </td>
        </ng-container>

        <!-- Header & Row -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="bg-gray-50"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns" class="hover:bg-gray-100"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
